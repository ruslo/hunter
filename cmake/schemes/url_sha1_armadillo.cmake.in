# This is configuration file, variable @SOME_VARIABLE_NAME@ will be substituted during configure_file command
cmake_minimum_required(VERSION 3.0)

# If such variables like `CMAKE_CXX_FLAGS` or `CMAKE_CXX_COMPILER` not used by scheme
# setting `LANGUAGES` to `NONE` will speed-up build a little bit. If you have any problems/glitches
# use regular `project(Hunter)` command
project(Hunter LANGUAGES NONE)

include(ExternalProject) # ExternalProject_Add

# some Hunter modules will be used
list(APPEND CMAKE_MODULE_PATH "@HUNTER_SELF@/cmake/modules")

include(hunter_status_debug)
include(hunter_test_string_not_empty)

# print this message if HUNTER_STATUS_DEBUG option is ON
hunter_status_debug("Scheme: url_sha1_armadillo")

# Check variables is not empty
hunter_test_string_not_empty("@HUNTER_SELF@")
hunter_test_string_not_empty("@HUNTER_EP_NAME@")
hunter_test_string_not_empty("@HUNTER_PACKAGE_URL@")
hunter_test_string_not_empty("@HUNTER_PACKAGE_SHA1@")
hunter_test_string_not_empty("@HUNTER_PACKAGE_DOWNLOAD_DIR@")
hunter_test_string_not_empty("@HUNTER_PACKAGE_SOURCE_DIR@")
hunter_test_string_not_empty("@HUNTER_INSTALL_PREFIX@")

ExternalProject_Add(
	@HUNTER_EP_BASE@ # Name of the external project. Actually not used set for beautify logging messages
	URL
	@HUNTER_PACKAGE_URL@ # URL of the package to download
	URL_HASH
	SHA1=@HUNTER_PACKAGE_SHA1@ # SHA1 hash
	DOWNLOAD_DIR
	"@HUNTER_PACKAGE_DOWNLOAD_DIR@" # Archive destination location
	SOURCE_DIR
	"@HUNTER_PACKAGE_SOURCE_DIR@" # Unpack directory
	INSTALL_DIR
	"@HUNTER_INSTALL_PREFIX@" # not used actually (see install command)
	CONFIGURE_COMMAND
	""
	BUILD_COMMAND
	""
	BUILD_IN_SOURCE
	1
	INSTALL_COMMAND
	"@CMAKE_COMMAND@" -E copy_directory "include" "${CMAKE_INSTALL_PREFIX}/include/"
	)
